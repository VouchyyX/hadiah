<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Surat Buatkamu</title>
    <style>
        :root {
            --primary: #ff4d6d;
            --secondary: #ff8fa3;
            --bg: #fff0f3;
            --text: #590d22;
            --white: #ffffff;
            --shadow: rgba(255, 77, 109, 0.2);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--bg);
            color: var(--text);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow-x: hidden;
            padding: 20px;
        }

        .container {
            width: 100%;
            max-width: 600px;
            text-align: center;
            position: relative;
        }

        /* Utility Classes */
        .hidden {
            display: none !important;
        }

        .btn {
            background-color: var(--primary);
            color: var(--white);
            border: none;
            padding: 12px 24px;
            border-radius: 50px;
            font-size: 1rem;
            cursor: pointer;
            margin: 10px;
            transition: transform 0.2s, box-shadow 0.2s;
            box-shadow: 0 4px 15px var(--shadow);
            font-weight: 600;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px var(--shadow);
        }

        .btn-secondary {
            background-color: var(--white);
            color: var(--primary);
            border: 2px solid var(--primary);
        }

        /* Animations */
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes heartbeat {
            0% { transform: scale(1); }
            25% { transform: scale(1.1); }
            50% { transform: scale(1); }
            75% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        /* View 1: Initial (Envelope) */
        #view-initial {
            display: flex;
            flex-direction: column;
            align-items: center;
            animation: fadeIn 1s ease;
        }

        .envelope-container {
            position: relative;
            width: 300px;
            height: 200px;
            background-color: var(--secondary);
            border-radius: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 40px 0;
            cursor: pointer;
            animation: float 3s ease-in-out infinite;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .envelope-flap {
            position: absolute;
            top: 0;
            left: 0;
            width: 0;
            height: 0;
            border-left: 150px solid transparent;
            border-right: 150px solid transparent;
            border-top: 100px solid var(--primary);
            transform-origin: top;
            transition: transform 0.5s;
            z-index: 2;
        }

        .envelope-container.open .envelope-flap {
            transform: rotateX(180deg);
        }

        .heart-seal {
            position: absolute;
            top: 30%;
            font-size: 40px;
            z-index: 3;
            filter: drop-shadow(0 2px 5px rgba(0,0,0,0.2));
        }

        .title-text {
            font-size: 1.2rem;
            margin-bottom: 20px;
            line-height: 1.6;
            color: var(--text);
        }

        /* View 2: Reject */
        #view-reject {
            animation: fadeIn 0.5s ease;
        }

        .funny-img {
            font-size: 100px;
            margin-bottom: 20px;
            display: block;
            animation: heartbeat 1.5s infinite;
        }

        /* View 3: Letter Content */
        #view-letter {
            text-align: left;
            background: var(--white);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.05);
            max-height: 90vh;
            overflow-y: auto;
            opacity: 0;
            transform: scale(0.9);
            transition: all 0.8s ease;
        }

        #view-letter.visible {
            opacity: 1;
            transform: scale(1);
        }

        .letter-text {
            font-size: 1.1rem;
            line-height: 1.8;
            margin-bottom: 40px;
            white-space: pre-line;
            min-height: 100px;
        }

        .cursor {
            display: inline-block;
            width: 2px;
            height: 1.2em;
            background-color: var(--text);
            animation: blink 1s infinite;
            vertical-align: middle;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }

        /* Gallery */
        .gallery-section {
            margin-top: 40px;
            text-align: center;
            opacity: 0;
            transition: opacity 1s ease;
        }

        .gallery-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: var(--primary);
        }

        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(130px, 1fr));
            gap: 15px;
        }

        .photo-card {
            background: white;
            padding: 10px;
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            transform: rotate(-2deg);
            transition: transform 0.3s;
        }

        .photo-card:nth-child(even) {
            transform: rotate(2deg);
        }

        .photo-card:hover {
            transform: scale(1.05) rotate(0);
            z-index: 10;
        }

        .photo-placeholder {
            width: 100%;
            height: 120px;
            background-color: #ffccd5;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            font-size: 2rem;
            margin-bottom: 8px;
            overflow: hidden;
        }
        
        .photo-placeholder img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .caption {
            font-size: 0.8rem;
            color: #666;
        }

        /* Final Section */
        .final-section {
            margin-top: 50px;
            text-align: center;
            padding-top: 30px;
            border-top: 2px dashed var(--secondary);
            opacity: 0;
            transition: opacity 1s ease;
        }

        .final-text {
            font-size: 1.1rem;
            font-style: italic;
            margin-bottom: 20px;
        }

        /* Music Control (Optional visual) */
        .music-note {
            position: fixed;
            top: 20px;
            right: 20px;
            font-size: 24px;
            opacity: 0.5;
            animation: float 2s infinite;
        }
    </style>
</head>
<body>

    <!-- Audio Element -->
    <audio id="bg-music" loop preload="auto" style="display:none">
        <source src="best-part.mp3" type="audio/mpeg">
    </audio>

    <div class="container">
        <!-- VIEW 1: INITIAL -->
        <div id="view-initial">
            <div class="music-note">üéµ</div>
            <p class="title-text">Buat Pacall Akuu Yangg Lucukk<br>ini buat kamuuu üíñ</p>
            
            <div class="envelope-container" id="envelope">
                <div class="envelope-flap"></div>
                <div class="heart-seal">üíå</div>
            </div>

            <div class="buttons">
                <button class="btn" onclick="openLetter()">Buka Surat üíå</button>
                <button class="btn btn-secondary" onclick="rejectLetter()">Aku Gak Mau Buka üòù</button>
            </div>
        </div>

        <!-- VIEW 2: REJECT -->
        <div id="view-reject" class="hidden">
            <span class="funny-img">üò§</span>
            <h2 style="color: var(--primary); margin-bottom: 15px;">Ehh jangan gitu plisss!</h2>
            <p class="title-text">Masa surat sepenting ini gak dibuka?<br>Aku udah buat capek-capek mwehehh... ü•∫</p>
            <button class="btn" onclick="acceptFromReject()">Yaudah Deh, Aku Buka üòÜüíå</button>
        </div>

        <!-- VIEW 3: LETTER CONTENT -->
        <div id="view-letter" class="hidden">
            <div id="typing-container" class="letter-text"></div>
            
            <div id="gallery-section" class="gallery-section">
                <h3 class="gallery-title">Kenangan Kita üì∏</h3>
                
                <!-- Photos will be inserted here by JavaScript -->
                <div class="gallery-grid" id="gallery-grid"></div>
            </div>

            <div id="final-section" class="final-section">
                <p class="final-text">
                    "Di tahun yang baru ini,<br>
                    aku berharap kita tetap bersama,<br>
                    saling genggam, saling jaga."
                </p>
                <button class="btn" onclick="alert('I Love You More! üíñ')">Aku Sayang Kamu üíó</button>
            </div>
        </div>
    </div>

    <script>
        // ==========================================
        // === EDIT YOUR PHOTOS HERE ===
        // ==========================================
        const photos = [
            { src: "images/Screenshot_2025-12-19-23-39-52-56_99c04817c0de5652397fc8b56c3b3817.jpg", caption: "Awal kitaa chatt" },
            { src: "images/6155821872_119083337757088_1758340203178.png", caption: "Naik Gununggg" },
            { src: "images/6155821872_16470650552_1760803189096.png", caption: "PhotoBoxxxxx" },
            { src: "images/1000372243.jpg", caption: "Pacall Akuuuu ‚ù§Ô∏è" },
            { src: "./images/1000372243.jpg",  caption: "TEST FOTO" },
  }
            // Add more photos here: { src: "filename.jpg", caption: "Description" }
        ];
        // ==========================================

        // DOM Elements
        const viewInitial = document.getElementById('view-initial');
        const viewReject = document.getElementById('view-reject');
        const viewLetter = document.getElementById('view-letter');
        const envelope = document.getElementById('envelope');
        const typingContainer = document.getElementById('typing-container');
        const gallerySection = document.getElementById('gallery-section');
        const finalSection = document.getElementById('final-section');
        const music = document.getElementById('bg-music');
        const galleryGrid = document.getElementById('gallery-grid');

        // Text to type
        const message = `ALOWWW BUBBBIEE...
        
        Maacciiii udahhh datengg di dalam hidup akuuuuu.
        Tahun ini mungkin punya banyak cerita, tapi bagian favorit akuu waktu kita ngabisin waktuu barengg.
        
        Kamu tuuu bagian terindah dari hari hari nyaa akuuu, samaaa alasan aku senyumm tiap hariii.`;

        // Render Gallery
        function renderGallery() {
            galleryGrid.innerHTML = '';
            photos.forEach(photo => {
                const card = document.createElement('div');
                card.className = 'photo-card';
                card.innerHTML = `
                    <div class="photo-placeholder">
                        <img src="${photo.src}" alt="${photo.caption}">
                    </div>
                    <p class="caption">${photo.caption}</p>
                `;
                galleryGrid.appendChild(card);
            });
        }

        // Functions
        function rejectLetter() {
            viewInitial.classList.add('hidden');
            viewReject.classList.remove('hidden');
        }

        function acceptFromReject() {
            viewReject.classList.add('hidden');
            viewInitial.classList.remove('hidden');
            setTimeout(openLetter, 500);
        }

        function playMusic() {
            music.volume = 0;
            music.play().then(() => {
                let vol = 0;
                const interval = setInterval(() => {
                    if (vol < 0.5) {
                        vol += 0.05;
                        music.volume = Math.min(vol, 0.5);
                    } else {
                        clearInterval(interval);
                    }
                }, 200);
            }).catch(error => {
                console.log("Audio play failed:", error);
            });
        }

        function openLetter() {
            playMusic();
            envelope.classList.add('open');
            
            setTimeout(() => {
                viewInitial.classList.add('hidden');
                viewLetter.classList.remove('hidden');
                
                setTimeout(() => {
                    viewLetter.classList.add('visible');
                    startTyping();
                }, 100);
            }, 800);
        }

        function startTyping() {
            let i = 0;
            const speed = 50;

            function typeWriter() {
                if (i < message.length) {
                    if (message.charAt(i) === '\n') {
                        typingContainer.innerHTML += '<br>';
                    } else {
                        typingContainer.innerHTML += message.charAt(i);
                    }
                    i++;
                    setTimeout(typeWriter, speed);
                } else {
                    typingContainer.innerHTML += '<span class="cursor"></span>';
                    setTimeout(() => {
                        document.querySelector('.cursor').style.display = 'none';
                        showGallery();
                    }, 1000);
                }
            }
            typeWriter();
        }

        function showGallery() {
            gallerySection.style.opacity = '1';
            setTimeout(() => {
                finalSection.style.opacity = '1';
                viewLetter.scrollTo({
                    top: viewLetter.scrollHeight,
                    behavior: 'smooth'
                });
            }, 1500);
        }

        // Initialize
        renderGallery();
    </script>
</body>

</html>



